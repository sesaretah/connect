(this["webpackJsonpelearn-tools-client"]=this["webpackJsonpelearn-tools-client"]||[]).push([[0],{33:function(e,t,a){e.exports=a(65)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(28),l=a.n(i),c=(a(38),a(31)),o=a(1),r=(a(39),a(40),a(11)),u=a(12),m=a(10),d=a(14),h=a(13),v=a(29),E=new(a(30).Dispatcher),p=new(function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).list=[],e.instance=null,e.klass=null,e}return Object(u.a)(a,[{key:"listModel",value:function(e){this.list=[],this.klass=e.klass;for(var t=0,a=e.data.length;t<a;++t)this.list.push(e.data[t]),t===a-1&&this.emit("got_list");0==e.data.length&&this.emit("got_list")}},{key:"showIntance",value:function(e){this.klass=e.klass,this.instance=e.data,this.emit("got_instance")}},{key:"setIntance",value:function(e){this.klass=e.klass,this.instance=e.data,this.emit("set_instance")}},{key:"deleteIntance",value:function(e){this.klass=e.klass,this.instance=e.data,this.emit("deleted_instance")}},{key:"postFile",value:function(e){console.log(e),this.klass=e.klass,this.instance=e.data,this.emit("file_posted")}},{key:"getIntance",value:function(){return this.instance}},{key:"getList",value:function(){return this.list}},{key:"getListnKlass",value:function(){return[this.list,this.klass]}},{key:"getKlass",value:function(){return this.klass}},{key:"handleActions",value:function(e){switch(e.type){case"LIST_MODEL_SUCCESS":this.listModel(e.list);break;case"GET_INSTANCE_SUCCESS":this.showIntance(e.instance);break;case"DELETE_INSTANCE_SUCCESS":this.deleteIntance(e.instance);break;case"SET_INSTANCE_SUCCESS":this.setIntance(e.instance);break;case"POST_FILE_SUCCESS":this.postFile(e.instance)}}}]),a}(v.EventEmitter));E.register(p.handleActions.bind(p));var f=p,g=a(8),b=a.n(g);var N="\u062e\u0627\u0646\u0647",k="\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644 PDF",S="\u0633\u0631\u0648\u06cc\u0633 \u0622\u0645\u0627\u062f\u0647 \u0633\u0627\u0632\u06cc \u0641\u0627\u06cc\u0644",_="\u06a9\u062f \u0631\u0647\u06af\u06cc\u0631\u06cc \u0634\u0645\u0627",y="\u062f\u0631 \u062d\u0627\u0644 \u062a\u0628\u062f\u06cc\u0644 \u0641\u0627\u06cc\u0644 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u06a9\u0645\u06cc \u0637\u0648\u0644 \u0628\u06a9\u0634\u062f",C="\u062f\u0631\u06cc\u0627\u0641\u062a",I="\u0628\u0627\u0631\u06af\u0632\u0627\u0631\u06cc \u062f\u06cc\u06af\u0631",w=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={file:null,token:null,id:null,uuid:null,uploadable:" ",uploadNotice:"is-hidden",convertNotice:"is-hidden",uploadProgress:"is-hidden",convertProgress:"is-hidden",converted:!1,convertedLink:" "},n.getInstance=n.getInstance.bind(Object(m.a)(n)),n.onChange=n.onChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"onFormSubmit",value:function(e){e.preventDefault(),this.fileUpload(this.state.file).then((function(e){console.log(e.data)}))}},{key:"onChange",value:function(e){var t=this;this.setState({file:e.target.files[0],uploadProgress:" "},(function(){return function(e,t,a,n){var s="/v1/"+e,i=new FormData;i.append("upload[attached_document]",a);var l={headers:{"content-type":"multipart/form-data",Authorization:"bearer "+n}};b.a.post(s,i,l).then((function(e){E.dispatch({type:"POST_FILE_SUCCESS",instance:e.data})})).catch((function(e){console.log(e)}))}("uploads",t.state.id,t.state.file,t.state.token)}))}},{key:"componentWillMount",value:function(){f.on("got_instance",this.getInstance),f.on("file_posted",this.getInstance)}},{key:"componentWillUnmount",value:function(){f.removeListener("got_instance",this.getInstance),f.removeListener("file_posted",this.getInstance)}},{key:"componentDidMount",value:function(){}},{key:"getInstance",value:function(){var e=f.getIntance(),t=f.getKlass();e&&"Upload"===t&&this.setState({uuid:e.uuid,uploadNotice:" ",convertNotice:" ",uploadProgress:" is-hidden",convertProgress:" "}),e&&"UploadShow"===t&&e.converted&&this.setState({converted:e.converted,convertNotice:" is-hidden",convertProgress:" is-hidden",uploadNotice:" is-hidden",convertedLink:e.converted_link,uploadable:" is-hidden"}),console.log(e,t),setTimeout(function(){this.state.uuid&&!this.state.converted&&function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;b.a.get("/v1/"+e+"/"+t+"?page="+n,{headers:{"Content-Type":"application/json",Authorization:"bearer "+a}}).then((function(e){E.dispatch({type:"GET_INSTANCE_SUCCESS",instance:e.data})})).catch((function(e){console.log(e)}))}("uploads",this.state.uuid,this.state.token)}.bind(this),6e3)}},{key:"converted_link",value:function(){if(this.state.converted)return s.a.createElement(s.a.Fragment,null,s.a.createElement("nav",{className:"level"},s.a.createElement("p",{className:"level-item has-text-centered"},s.a.createElement("a",{class:"button is-success",href:this.state.convertedLink},C))),s.a.createElement("nav",{className:"level"},s.a.createElement("p",{className:"level-item has-text-centered"},s.a.createElement("a",{class:"button is-warning is-light",href:"/"},I))))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container"},s.a.createElement("section",{className:"section"},s.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement("a",{className:"navbar-item",href:"/"},s.a.createElement("img",{src:"/logo60.png"})),s.a.createElement("a",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))),s.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},s.a.createElement("div",{className:"navbar-start"},s.a.createElement("a",{className:"navbar-item"},N)),s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"}))))),s.a.createElement("section",{className:"hero is-dark"},s.a.createElement("div",{className:"hero-body"},s.a.createElement("div",{className:"container"},s.a.createElement("h2",{className:"subtitle"},S)))),s.a.createElement("section",{className:"section"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement("nav",{className:"level "+this.state.uploadable},s.a.createElement("p",{className:"level-item has-text-centered"},s.a.createElement("div",{className:"file is-info is-boxed"},s.a.createElement("label",{className:"file-label"},s.a.createElement("input",{className:"file-input",type:"file",name:"resume",onChange:this.onChange,accept:".pdf"}),s.a.createElement("span",{className:"file-cta"},s.a.createElement("span",{className:"file-icon"},s.a.createElement("i",{className:"fas fa-2x fa-file-pdf"})),s.a.createElement("span",{className:"file-label mt-4"},k)))))),s.a.createElement("div",{class:"control "+this.state.uploadProgress},s.a.createElement("progress",{class:"progress is-small is-dark",max:"100"},"15%")),s.a.createElement("div",{className:"notification is-success is-light "+this.state.convertNotice},s.a.createElement("button",{className:"delete"}),_,":",s.a.createElement("strong",null," ",this.state.uuid)),s.a.createElement("div",{class:"control "+this.state.convertProgress},s.a.createElement("progress",{class:"progress is-small is-danger",max:"100"},"15%")),s.a.createElement("div",{className:"notification is-warning is-light "+this.state.uploadNotice},s.a.createElement("button",{className:"delete"}),s.a.createElement("strong",null," ",y)),this.converted_link())))))}}]),a}(s.a.Component);function O(){return s.a.createElement("div",{className:"App"},s.a.createElement(c.a,null,s.a.createElement(o.c,null,s.a.createElement(o.a,{path:"/",exact:!0,component:w}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.bdef19f1.chunk.js.map